{"version":3,"sources":["webpack:///webpack/bootstrap 8ee99a75a96e16d37f2b","webpack:///./client/js/helpers/elements.js","webpack:///./client/js/utils/constants.js","webpack:///./client/js/app.js","webpack:///./client/js/states/boot.js","webpack:///./client/js/states/preload.js","webpack:///./client/js/states/menu.js","webpack:///./client/js/states/select_map.js","webpack:///./client/js/states/pending_game.js","webpack:///./client/js/states/play.js","webpack:///./client/js/utils/utils.js","webpack:///./client/js/entities/player.js","webpack:///./client/js/entities/info.js","webpack:///./client/js/entities/enemy_player.js","webpack:///./client/js/entities/bomb.js","webpack:///./client/js/entities/spoil.js","webpack:///./client/js/entities/fire_blast.js","webpack:///./client/js/entities/bone.js","webpack:///./client/js/states/win.js"],"names":["Text","game","x","y","text","style","anchor","setTo","add","existing","Phaser","Button","asset","callback","callbackContext","overFrame","outFrame","downFrame","upFrame","setFrames","inputEnabled","input","useHandCursor","TextButton","label","addChild","GameSlots","availableGames","yOffset","availableGame","slot","bind","game_id","id","name","callAll","Group","PlayerSlots","max_players","players","asset_box","asset_player","xOffset","i","_player","slotBox","Sprite","slotPlayer","Image","color","SpoilNotification","picture","tween","to","alpha","onComplete","finish","start","thumbnailXOffset","thumbnailYOffset","stageNameYOffset","buttonXOffset","startGameButtonYOffset","leaveButtonYOffset","characterSquareStartingX","characterSquareStartingY","characterSquareXDistance","characterSquareYDistance","characterOffsetX","characterOffsetY","AVAILABLE_MAPS","TILESET","LAYER","Game","AUTO","state","Boot","stage","backgroundColor","disableVisibilityChange","font","fill","State","Preload","load","image","spritesheet","tilemap","Tilemap","TILED_JSON","slotXOffset","slotYOffset","textXOffset","textYOffset","slotsWithGame","Menu","clientSocket","on","displayPendingGames","sprite","world","centerX","centerY","hostGameAction","emit","destroy","joinGameAction","SelectMap","slider","phaseSlider","pinkBlock","blueBlock","createSlider","width","height","customHandlePrev","customHandleNext","objects","confirmStageSelection","map_name","getCurrentIndex","joinToNewGame","PendingGame","profileBoxes","profileImages","slotsWithPlayer","displayGameInfo","launchGame","gameTitle","startGameButton","startGameAction","disable","leaveGameAction","current_game","Object","values","length","enable","Play","currentGame","createMap","createPlayers","setEventHandlers","time","events","loop","stopAnimationLoop","physics","arcade","collide","player","blockLayer","enemies","bombs","overlap","spoils","onPlayerVsSpoil","blasts","onPlayerVsBlast","map","addTilesetImage","createLayer","resizeWorld","setCollision","layer","properties","collisionTiles","bones","group","setup","spawn","onMovePlayer","onPlayerWin","onShowBomb","onDetonateBomb","onSpoilWasPicked","onShowBones","onPlayerDisconnect","spoil","spoil_id","kill","blast","alive","col","currentCol","row","currentRow","becomesDead","player_id","enemy","goTo","children","lastMoveAt","now","animations","stop","bomb_id","blastedCells","cell","destroyed","putTile","empty","spoil_type","pickSpoil","winner_color","findFrom","entities","entity","findAndDestroyFrom","PING","TILE_SIZE","SPEED","POWER","DELAY","MAX_SPEED","STEP_SPEED","INITIAL_SPEED","MIN_DELAY","STEP_DELAY","INITIAL_DELAY","INITIAL_POWER","STEP_POWER","Player","prevPosition","delay","power","speed","_lastBombTime","body","setSize","positionUpdaterLoop","info","defineKeyboard","defineSelf","handleMoves","handleBombs","debug","upKey","keyboard","addKey","Keyboard","UP","downKey","DOWN","leftKey","LEFT","rightKey","RIGHT","spaceKey","SPACEBAR","velocity","set","animationsArray","isDown","push","currentAnimation","play","Math","floor","position","newPosition","showDeadInfo","increaseSpeed","increasePower","increaseDelay","refreshStatistic","playerText","Info","align","redStyle","bootsIcon","speedText","speedLabel","powerIcon","powerText","powerLabel","delayIcon","delayText","delayLabel","deadText","visible","EnemyPlayer","currentPosition","immovable","animateFace","Easing","Linear","None","face","diffX","diffY","explosion_time","Bomb","centerCol","centerRow","scale","Spoil","FireBlast","type","Bone","Win","winnerText","ENTER","returnToMenu"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8ee99a75a96e16d37f2b","// https://gist.github.com/woubuc/6ef002051aeef453a95b\n\nexport class Text extends Phaser.Text {\n\n  constructor({ game, x, y, text, style }) {\n    super(game, x, y, text, style);\n    this.anchor.setTo(0.5);\n\n    this.game.add.existing(this);\n  }\n\n}\n\nexport class Button extends Phaser.Button {\n\n  constructor({ game, x, y, asset, callback, callbackContext, overFrame, outFrame, downFrame, upFrame }) {\n    super(game, x, y, asset, callback, callbackContext, overFrame, outFrame, downFrame, upFrame);\n    this.anchor.setTo(0.5);\n\n    this.game.add.existing(this);\n  }\n\n  disable() {\n    this.setFrames(2, 2);\n    this.inputEnabled = false;\n    this.input.useHandCursor = false;\n  }\n\n  enable() {\n    this.setFrames(1, 0);\n    this.inputEnabled = true;\n    this.input.useHandCursor = true;\n  }\n\n}\n\nexport class TextButton extends Phaser.Button {\n\n  constructor({ game, x, y, asset, callback, callbackContext, overFrame, outFrame, downFrame, upFrame, label, style }) {\n    super(game, x, y, asset, callback, callbackContext, overFrame, outFrame, downFrame, upFrame);\n    this.anchor.setTo(0.5);\n\n    this.text = new Phaser.Text(this.game, 0, 0, label, style);\n    this.text.anchor.setTo(0.5);\n\n    this.addChild(this.text);\n\n    this.game.add.existing(this);\n  }\n\n}\n\nexport class GameSlots extends Phaser.Group {\n\n  constructor({ game, availableGames, callback, callbackContext, x, y, asset, overFrame, outFrame, downFrame, upFrame, style }) {\n    super(game);\n\n    let yOffset = y;\n\n    for (let availableGame of availableGames) {\n      var slot = new Phaser.Button(this.game, x, yOffset, asset, callback.bind(callbackContext, { game_id: availableGame.id }), null, overFrame, outFrame, downFrame, upFrame);\n      slot.anchor.setTo(0.5);\n\n      slot.text = new Phaser.Text(this.game, 0, 0, `Join Game: ${availableGame.name}`, style);\n      slot.text.anchor.setTo(0.5);\n\n      slot.addChild(slot.text);\n\n      this.add(slot);\n\n      yOffset += 50;\n    }\n  }\n\n  destroy() {\n    this.callAll('kill') // destroy\n  }\n}\n\nexport class PlayerSlots extends Phaser.Group {\n\n  constructor({ game, max_players, players, x, y, asset_box, asset_player }) {\n    super(game);\n\n    let xOffset = x;\n\n    for (let i = 0; i < max_players; i++) {\n      let _player = players[i]\n\n      let slotBox = new Phaser.Sprite(this.game, xOffset, y, asset_box, 0);\n\n      if (_player) {\n        let slotPlayer = new Phaser.Image(this.game, 5, 5, asset_player+_player.color)\n        slotBox.addChild(slotPlayer)\n      }\n\n      this.add(slotBox);\n      xOffset += 100;\n    }\n  }\n\n  destroy() {\n    this.callAll('kill')\n  }\n}\n\nexport class SpoilNotification extends Phaser.Group {\n\n  constructor({ game, asset, x, y }) {\n    super(game)\n\n    this.picture = new Phaser.Image(this.game, x, y - 20, asset);\n    this.picture.anchor.setTo(0.5);\n\n    this.add(this.picture);\n\n    this.tween = this.game.add.tween(this.picture);\n    this.tween.to({ y: this.picture.y - 25, alpha: 0 }, 600);\n\n    this.tween.onComplete.add(this.finish, this);\n\n    this.tween.start()\n  }\n\n  finish() {\n    this.callAll('kill')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/helpers/elements.js","export const xOffset = 180;\nexport const yOffset = 25;\n\nexport const thumbnailXOffset = 396;\nexport const thumbnailYOffset = 125;\nexport const stageNameYOffset = 320;\n\nexport  const buttonXOffset = 345;\nexport  const startGameButtonYOffset = 320;\nexport  const leaveButtonYOffset = 370;\n\nexport  const characterSquareStartingX = 345;\nexport  const characterSquareStartingY = 80;\nexport  const characterSquareXDistance = 105;\nexport  const characterSquareYDistance = 100;\n\nexport  const characterOffsetX = 4.5;\nexport  const characterOffsetY = 4.5;\n\nexport const AVAILABLE_MAPS = ['hot_map', 'cold_map']\nexport const TILESET = 'tiles';\nexport const LAYER   = 'Blocks';\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/utils/constants.js","// https://github.com/cstuncsik/phaser-es6-demo/tree/master/src\n\nimport Boot from './states/boot';\nimport Preload from './states/preload';\nimport Menu from './states/menu';\nimport SelectMap from './states/select_map';\nimport PendingGame from './states/pending_game';\nimport Play from './states/play';\nimport Win from './states/win';\n\nclass Game extends Phaser.Game {\n  constructor() {\n    super(980, 630, Phaser.AUTO, 'game-container');\n\n    this.state.add('Boot',         Boot);\n    this.state.add('Preload',      Preload);\n    this.state.add('Menu',         Menu);\n    this.state.add('SelectMap',    SelectMap);\n    this.state.add('PendingGame',  PendingGame);\n    this.state.add('Play',         Play);\n    this.state.add('Win',          Win);\n\n    this.state.start('Boot');\n  }\n}\n\nnew Game();\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/app.js","class Boot extends Phaser.State {\n\n  preload() {\n    this.game.stage.backgroundColor = '#000';\n  }\n\n  create() {\n    // This is not mandatory, but useful, as it will make the game keep reacting to messages from the server even when the game window doesn’t have focus (which is a desired behavior for most games).\n    this.game.stage.disableVisibilityChange = true;\n\n    this.add.text(80, 150, 'Loading...', { font: '30px Courier', fill: '#FFFFFF' });\n\n    this.state.start('Preload');\n  }\n}\n\nexport default Boot;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/states/boot.js","class Preload extends Phaser.State {\n\n  preload() {\n    this.load.image('background', \"images/background.png\");\n    this.load.spritesheet(\"game_slot\", 'images/game_slot.png', 522, 48);\n    this.load.spritesheet(\"game_number\", 'images/game_number.png', 522, 48);\n    this.load.image('background_select', 'images/Background_select.png');\n    this.load.image('select_stage', 'images/select_stage.png');\n\n    this.load.image('pending_game_backdrop', 'images/lobby_backdrop.png');\n    this.load.spritesheet('start_game_button', 'images/start_game_button.png', 202, 43);\n    this.load.spritesheet('leave_game_button', 'images/leave_game_button.png', 202, 43);\n    this.load.spritesheet('character_square', 'images/character_square.png', 89, 89);\n\n\n    this.load.image('pinkBlock', 'images/assets/pinkBlock.png');\n    this.load.image('blueBlock', 'images/assets/blueBlock.png');\n    this.load.spritesheet('accept', 'images/assets/accept.png', 80, 80);\n    this.load.image('prev', 'images/assets/prev.png');\n    this.load.image('next', 'images/assets/next.png');\n\n\n    this.load.image('bomberman_head_white', 'images/icon_white.png');\n    this.load.image('bomberman_head_blue', 'images/icon_blue.png');\n    this.load.image('bomberman_head_red', 'images/icon_red.png');\n    this.load.image('bomberman_head_black', 'images/icon_black.png');\n\n\n    this.load.image('tiles', 'maps/tileset.png');\n    this.load.tilemap('hot_map', 'maps/hot_map.json', null, Phaser.Tilemap.TILED_JSON);\n    this.load.tilemap('cold_map', 'maps/cold_map.json', null, Phaser.Tilemap.TILED_JSON);\n\n    this.load.spritesheet('bomberman_white', 'images/bomberman_white.png', 32, 64);\n    this.load.spritesheet('bomberman_black', 'images/bomberman_black.png', 32, 64);\n    this.load.spritesheet('bomberman_blue', 'images/bomberman_blue.png', 32, 64);\n    this.load.spritesheet('bomberman_red', 'images/bomberman_red.png', 32, 64);\n\n\n\n    this.load.spritesheet('explosion_center',     'images/explosion_center.png',     35, 35);\n    this.load.spritesheet('explosion_horizontal', 'images/explosion_horizontal.png', 35, 35);\n    this.load.spritesheet('explosion_vertical',   'images/explosion_vertical.png',   35, 35);\n    this.load.spritesheet('explosion_up',         'images/explosion_up.png',         35, 35);\n    this.load.spritesheet('explosion_right',      'images/explosion_right.png',      35, 35);\n    this.load.spritesheet('explosion_down',       'images/explosion_down.png',       35, 35);\n    this.load.spritesheet('explosion_left',       'images/explosion_left.png',       35, 35);\n\n    this.load.spritesheet('spoil_tiles', 'images/spoil_tiles.png', 35, 35);\n    this.load.spritesheet('bone', 'images/bone.png', 35, 35);\n    this.load.spritesheet('bomb', 'images/bomb.png', 35, 35);\n\n    this.load.image('speed_up_bonus', 'images/speed_up_bonus.png');\n    this.load.image('speed_up_no_bonus', 'images/speed_up_bonus.png');\n    this.load.image('delay_up_bonus', 'images/delay_up_bonus.png');\n    this.load.image('delay_up_no_bonus', 'images/delay_up_bonus.png');\n    this.load.image('power_up_bonus', 'images/power_up_bonus.png');\n\n    this.load.image('speed', 'images/speed.png');\n    this.load.image('power', 'images/power.png');\n    this.load.image('delay', 'images/delay.png');\n  }\n\n  create() {\n    this.state.start('Menu');\n  }\n}\n\nexport default Preload;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/states/preload.js","import { Text, TextButton, GameSlots, SpoilNotification } from '../helpers/elements';\n\nvar slotXOffset = 155;\nvar slotYOffset = 410;\n\nvar textXOffset = 260;\nvar textYOffset = 25;\n\nvar slotsWithGame = null;\n\nclass Menu extends Phaser.State {\n\n  init() {\n    clientSocket.on('display pending games', this.displayPendingGames.bind(this));\n  }\n\n  create() {\n    this.add.sprite(0, 0, 'background');\n\n    new Text({\n      game: this.game,\n      x: this.game.world.centerX,\n      y: this.game.world.centerY,\n      text: 'new Start',\n      style: {\n        font: '50px Areal',\n        fill: '#FFFFFF'\n      }\n    })\n\n    new TextButton({\n      game: this.game,\n      x: this.game.world.centerX,\n      y: this.game.world.centerY + 100,\n      asset: 'game_slot',\n      callback: this.hostGameAction,\n      callbackContext: this,\n      overFrame: 0,\n      outFrame: 1,\n      downFrame: 2,\n      upFrame: 1,\n      label: 'New Game',\n      style: {\n        font: '20px Areal',\n        fill: '#FFFFFF'\n      }\n    });\n\n    clientSocket.emit('enter lobby', this.displayPendingGames.bind(this));\n  }\n\n  update() {\n  }\n\n  hostGameAction() {\n    clientSocket.emit('leave lobby');\n    this.state.start('SelectMap');\n  }\n\n  displayPendingGames(availableGames) {\n    // NOTE: That is not optimal way to preview slots,\n    //       we should implement AddSlotToGroup, RemoveSlotFromGroup\n\n    // I triying to care about readability, not about performance.\n    if (slotsWithGame) {\n      slotsWithGame.destroy()\n    }\n\n    slotsWithGame = new GameSlots({\n      game: this.game,\n      availableGames: availableGames,\n      callback: this.joinGameAction,\n      callbackContext: this,\n      x: this.game.world.centerX,\n      y: 50,\n      asset: 'game_number',\n      overFrame: 0,\n      outFrame: 1,\n      downFrame: 2,\n      upFrame: 1,\n      style: {\n        font: '20px Areal',\n        fill: '#FFFFFF'\n      }\n    })\n  }\n\n  joinGameAction(game_id) {\n    clientSocket.emit('leave lobby');\n    // https://phaser.io/docs/2.6.2/Phaser.StateManager.html#start\n    this.state.start('PendingGame', true, false, game_id);\n  }\n}\n\nexport default Menu;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/states/menu.js","import { AVAILABLE_MAPS } from '../utils/constants';\n\nimport { Button, PlayerSlots } from '../helpers/elements';\n\nclass SelectMap extends Phaser.State {\n\n  init() {\n    this.slider = new phaseSlider(this);\n  }\n\n  create() {\n    this.add.sprite(0, 0, 'background_select');\n\n    let pinkBlock = this.add.image(0, 0, 'pinkBlock');\n    let blueBlock = this.add.image(0, 0, 'blueBlock');\n\n    // WARN: https://github.com/netgfx/PhaseSlider/issues/1\n    this.slider.createSlider({\n      x: this.game.world.centerX - pinkBlock.width / 2,\n      y: this.game.world.centerY - pinkBlock.height / 2,\n      customHandlePrev: 'prev',\n      customHandleNext: 'next',\n      objects: [pinkBlock, blueBlock]\n    });\n\n    new Button({\n      game: this.game,\n      x: this.game.world.centerX,\n      y: 425,\n      asset: 'accept',\n      callback: this.confirmStageSelection,\n      callbackContext: this,\n      overFrame: 1,\n      outFrame: 0,\n      downFrame: 1,\n      upFrame: 0,\n    })\n  }\n\n  confirmStageSelection() {\n    let map_name = AVAILABLE_MAPS[this.slider.getCurrentIndex()]\n\n    clientSocket.emit('create game', map_name, this.joinToNewGame.bind(this));\n  }\n\n  joinToNewGame(game_id) {\n    this.state.start('PendingGame', true, false, game_id);\n  }\n}\n\nexport default SelectMap;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/states/select_map.js","import { Text, Button, PlayerSlots } from '../helpers/elements';\n\nclass PendingGame extends Phaser.State {\n\n  init({ game_id }) {\n    this.profileBoxes = [];\n    this.profileImages = [];\n    this.slotsWithPlayer = null;\n\n    this.game_id = game_id;\n\n    clientSocket.on('update game', this.displayGameInfo.bind(this));\n    clientSocket.on('launch game', this.launchGame.bind(this));\n\n    clientSocket.emit('enter pending game', { game_id: this.game_id });\n  }\n\n  create() {\n    this.add.sprite(0, 0, 'background_select');\n\n    this.gameTitle = new Text({\n      game: this.game,\n      x: this.game.world.centerX,\n      y: this.game.world.centerY - 240,\n      text: '',\n      style: {\n        font: '24px Areal',\n        fill: '#FFFFFF'\n      }\n    })\n\n    this.startGameButton = new Button({\n      game: this.game,\n      x: this.game.world.centerX,\n      y: this.game.world.centerY + 100,\n      asset: 'start_game_button',\n      callback: this.startGameAction,\n      callbackContext: this,\n      overFrame: 1,\n      outFrame: 0,\n      downFrame: 2,\n      upFrame: 0,\n    })\n    this.startGameButton.disable()\n\n    new Button({\n      game: this.game,\n      x: this.game.world.centerX,\n      y: this.game.world.centerY + 150,\n      asset: 'leave_game_button',\n      callback: this.leaveGameAction,\n      callbackContext: this,\n      overFrame: 1,\n      outFrame: 0,\n      downFrame: 1,\n      upFrame: 0,\n    })\n  }\n\n  displayGameInfo({ current_game }) {\n    let players = Object.values(current_game.players);\n\n    this.gameTitle.text = `Game name: ${current_game.name}`\n\n    if (this.slotsWithPlayer) {\n      this.slotsWithPlayer.destroy()\n    }\n\n    this.slotsWithPlayer = new PlayerSlots({\n      game: this.game,\n      max_players: current_game.max_players,\n      players: players,\n      x: this.game.world.centerX - 150,\n      y: 100,\n      asset_box: 'character_square',\n      asset_player: 'bomberman_head_'\n    })\n\n    if(players.length > 1) {\n      this.startGameButton.enable();\n    } else {\n      this.startGameButton.disable();\n    }\n  }\n\n  leaveGameAction() {\n    clientSocket.emit('leave pending game');\n\n    this.state.start('Menu');\n  }\n\n  startGameAction() {\n    clientSocket.emit('start game');\n  }\n\n  launchGame(game) {\n    this.state.start('Play', true, false, game);\n  }\n}\n\nexport default PendingGame;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/states/pending_game.js","import { findFrom, findAndDestroyFrom } from '../utils/utils';\nimport { TILESET, LAYER } from '../utils/constants';\n\nimport Player from '../entities/player';\nimport EnemyPlayer from '../entities/enemy_player';\nimport Bomb from '../entities/bomb';\nimport Spoil from '../entities/spoil';\nimport FireBlast from '../entities/fire_blast';\nimport Bone from '../entities/bone';\n\nclass Play extends Phaser.State {\n  init(game) {\n    this.currentGame = game\n  }\n\n  create() {\n    this.createMap();\n    this.createPlayers();\n    this.setEventHandlers();\n\n    this.game.time.events.loop(400 , this.stopAnimationLoop.bind(this));\n  }\n\n  update() {\n    this.game.physics.arcade.collide(this.player, this.blockLayer);\n    this.game.physics.arcade.collide(this.player, this.enemies);\n    this.game.physics.arcade.collide(this.player, this.bombs);\n\n    this.game.physics.arcade.overlap(this.player, this.spoils, this.onPlayerVsSpoil, null, this);\n    this.game.physics.arcade.overlap(this.player, this.blasts, this.onPlayerVsBlast, null, this);\n  }\n\n  createMap() {\n    this.map = this.add.tilemap(this.currentGame.map_name);\n\n    this.map.addTilesetImage(TILESET);\n\n    this.blockLayer = this.map.createLayer(LAYER);\n    this.blockLayer.resizeWorld();\n\n    this.map.setCollision(this.blockLayer.layer.properties.collisionTiles)\n\n    this.player  = null;\n    this.bones   = this.game.add.group();\n    this.bombs   = this.game.add.group();\n    this.spoils  = this.game.add.group();\n    this.blasts  = this.game.add.group();\n    this.enemies = this.game.add.group();\n\n    this.game.physics.arcade.enable(this.blockLayer);\n  }\n\n  createPlayers() {\n    for (let player of Object.values(this.currentGame.players)) {\n      let setup = {\n        game:   this.game,\n        id:     player.id,\n        spawn:  player.spawn,\n        color:  player.color\n      }\n\n      if (player.id === clientSocket.id) {\n        this.player = new Player(setup);\n      } else {\n        this.enemies.add(new EnemyPlayer(setup))\n      }\n    }\n  }\n\n  setEventHandlers() {\n    clientSocket.on('move player', this.onMovePlayer.bind(this));\n    clientSocket.on('player win', this.onPlayerWin.bind(this));\n    clientSocket.on('show bomb', this.onShowBomb.bind(this));\n    clientSocket.on('detonate bomb', this.onDetonateBomb.bind(this));\n    clientSocket.on('spoil was picked', this.onSpoilWasPicked.bind(this));\n    clientSocket.on('show bones', this.onShowBones.bind(this));\n    clientSocket.on('player disconnect', this.onPlayerDisconnect.bind(this));\n  }\n\n  onPlayerVsSpoil(player, spoil) {\n    clientSocket.emit('pick up spoil', { spoil_id: spoil.id });\n    spoil.kill();\n  }\n\n  onPlayerVsBlast(player, blast) {\n    if (player.alive) {\n      clientSocket.emit('player died', { col: player.currentCol(), row: player.currentRow() });\n      player.becomesDead()\n    }\n  }\n\n  onMovePlayer({ player_id, x, y }) {\n    let enemy = findFrom(player_id, this.enemies);\n    if (!enemy) { return }\n\n    enemy.goTo({ x: x, y: y })\n  }\n\n  stopAnimationLoop() {\n    for (let enemy of this.enemies.children) {\n      if (enemy.lastMoveAt < this.game.time.now - 200) {\n        enemy.animations.stop();\n      }\n    }\n  }\n\n  onShowBomb({ bomb_id, col, row }) {\n    this.bombs.add(new Bomb(this.game, bomb_id, col, row));\n  }\n\n  onDetonateBomb({ bomb_id, blastedCells }) {\n    // Remove Bomb:\n    findAndDestroyFrom(bomb_id, this.bombs)\n\n    // Render Blast:\n    for (let cell of blastedCells) {\n      this.blasts.add(new FireBlast(this.game, cell));\n    };\n\n    // Destroy Tiles:\n    for (let cell of blastedCells) {\n      if (!cell.destroyed) { continue }\n\n      this.map.putTile(this.blockLayer.layer.properties.empty, cell.col, cell.row, this.blockLayer);\n    };\n\n    // Add Spoils:\n    for (let cell of blastedCells) {\n      if (!cell.destroyed) { continue }\n      if (!cell.spoil) { continue }\n\n      this.spoils.add(new Spoil(this.game, cell.spoil));\n    };\n  }\n\n  onSpoilWasPicked({ player_id, spoil_id, spoil_type }){\n    if (player_id === this.player.id){\n      this.player.pickSpoil(spoil_type)\n    }\n\n    findAndDestroyFrom(spoil_id, this.spoils)\n  }\n\n  onShowBones({ player_id, col, row }) {\n    this.bones.add(new Bone(this.game, col, row));\n\n    findAndDestroyFrom(player_id, this.enemies)\n  }\n\n  onPlayerWin(winner_color) {\n    clientSocket.emit('leave game');\n\n    this.state.start('Win', true, false, winner_color);\n  }\n\n  onPlayerDisconnect({ player_id }) {\n    findAndDestroyFrom(player_id, this.enemies);\n\n    if (this.enemies.children.length >= 1) { return }\n\n    this.onPlayerWin()\n  }\n}\n\nexport default Play;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/states/play.js","export const findFrom = function(id, entities) {\n  for (let entity of entities.children) {\n    if (entity.id !== id) { continue }\n\n    return entity\n  }\n  return null;\n}\n\nexport const findAndDestroyFrom = function(id, entities) {\n  let entity = findFrom(id, entities);\n  if (!entity) { return }\n\n  entity.destroy()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/utils/utils.js","// https://github.com/cstuncsik/phaser-es6-demo/tree/master/src\n\nimport Info from './info';\nimport { SpoilNotification, Text } from '../helpers/elements';\n\nconst PING = 100 // - Need to be depended on positionUpdaterLoop\nconst TILE_SIZE = 35\n\nconst SPEED = 0\nconst POWER = 1\nconst DELAY = 2\n\nconst MAX_SPEED = 350\nconst STEP_SPEED = 50\nconst INITIAL_SPEED = 150\n\nconst MIN_DELAY = 500\nconst STEP_DELAY = 500\nconst INITIAL_DELAY = 2000\n\nconst INITIAL_POWER = 1\nconst STEP_POWER = 1\n\nexport default class Player extends Phaser.Sprite {\n\n  constructor({ game, id, spawn, color }) {\n    super(game, spawn.x, spawn.y, 'bomberman_' + color);\n\n    this.game = game;\n    this.id = id;\n\n    this.prevPosition = { x: spawn.x, y: spawn.y };\n\n    this.delay = INITIAL_DELAY;\n    this.power = INITIAL_POWER;\n    this.speed = INITIAL_SPEED;\n    this._lastBombTime = 0;\n\n    this.game.add.existing(this);\n    this.game.physics.arcade.enable(this);\n    this.body.setSize(20, 20, 0, 0);\n\n    game.time.events.loop(PING , this.positionUpdaterLoop.bind(this));\n\n    this.animations.add('up', [0, 1, 2, 3, 4, 5, 6, 7], 15, true);\n    this.animations.add('down', [8, 9, 10, 11, 12, 13, 14, 15], 15, true);\n    this.animations.add('right', [16, 17, 18, 19, 20, 21, 22, 23], 15, true);\n    this.animations.add('left', [24, 25, 26, 27, 28, 29, 30, 31], 15, true);\n\n    this.info = new Info({ game: this.game, player: this });\n\n    this.defineKeyboard()\n    this.defineSelf()\n  }\n\n  update() {\n    if (this.alive) {\n      this.handleMoves()\n      this.handleBombs()\n    }\n\n    this.game.debug.body(this);\n    // this.game.debug.spriteInfo(this, 32, 32);\n  }\n\n  defineKeyboard() {\n    this.upKey    = this.game.input.keyboard.addKey(Phaser.Keyboard.UP)\n    this.downKey  = this.game.input.keyboard.addKey(Phaser.Keyboard.DOWN)\n    this.leftKey  = this.game.input.keyboard.addKey(Phaser.Keyboard.LEFT)\n    this.rightKey = this.game.input.keyboard.addKey(Phaser.Keyboard.RIGHT)\n    this.spaceKey = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR)\n  }\n\n  handleMoves() {\n    this.body.velocity.set(0);\n    let animationsArray = []\n\n    if (this.leftKey.isDown){\n      this.body.velocity.x = -this.speed;\n      animationsArray.push('left')\n    } else if (this.rightKey.isDown) {\n      this.body.velocity.x = this.speed;\n      animationsArray.push('right')\n    }\n\n    if (this.upKey.isDown) {\n      this.body.velocity.y = -this.speed;\n      animationsArray.push('up')\n    } else if (this.downKey.isDown) {\n      this.body.velocity.y = this.speed;\n      animationsArray.push('down')\n    }\n\n    let currentAnimation = animationsArray[0]\n    if (currentAnimation){\n      this.animations.play(currentAnimation)\n      return\n    }\n\n    this.animations.stop();\n  }\n\n  handleBombs() {\n    if (this.game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)) {\n      let now = this.game.time.now;\n\n      if (now > this._lastBombTime) {\n        this._lastBombTime = now + this.delay;\n\n        clientSocket.emit('create bomb', { col: this.currentCol(), row: this.currentRow() });\n      }\n    }\n  }\n\n  currentCol() {\n    return Math.floor(this.body.position.x / TILE_SIZE)\n  }\n\n  currentRow() {\n    return Math.floor(this.body.position.y / TILE_SIZE)\n  }\n\n  positionUpdaterLoop() {\n    let newPosition = { x: this.position.x, y: this.position.y }\n\n    if (this.prevPosition.x !== newPosition.x || this.prevPosition.y !== newPosition.y) {\n      clientSocket.emit('update player position', newPosition);\n      this.prevPosition = newPosition;\n    }\n  }\n\n  becomesDead() {\n    this.info.showDeadInfo()\n    this.kill();\n  }\n\n  pickSpoil( spoil_type ){\n    if ( spoil_type === SPEED ){ this.increaseSpeed() }\n    if ( spoil_type === POWER ){ this.increasePower() }\n    if ( spoil_type === DELAY ){ this.increaseDelay() }\n\n    // Play something\n  }\n\n  increaseSpeed(){\n    let asset = 'speed_up_no_bonus'\n\n    if (this.speed < MAX_SPEED) {\n      this.speed = this.speed + STEP_SPEED;\n      this.info.refreshStatistic();\n      asset = 'speed_up_bonus'\n    }\n\n    new SpoilNotification({ game: this.game, asset: asset, x: this.position.x, y: this.position.y })\n  }\n\n  increaseDelay(){\n    let asset = 'delay_up_no_bonus'\n\n    if (this.delay > MIN_DELAY){\n      this.delay -= STEP_DELAY;\n      this.info.refreshStatistic();\n      asset = 'delay_up_bonus'\n    }\n\n    new SpoilNotification({ game: this.game, asset: asset, x: this.position.x, y: this.position.y })\n  }\n\n  increasePower(){\n    let asset = 'power_up_bonus'\n\n    this.power += STEP_POWER;\n    this.info.refreshStatistic();\n\n    new SpoilNotification({ game: this.game, asset: asset, x: this.position.x, y: this.position.y })\n  }\n\n  defineSelf() {\n    let playerText = new Text({\n      game: this.game,\n      x: 10,\n      y: -10,\n      text: 'Me',\n      style: {\n        font: '15px Areal',\n        fill: '#FFFFFF'\n      }\n    })\n\n    this.addChild(playerText);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/entities/player.js","export default class Info {\n\n  constructor({ game, player }) {\n    this.game = game;\n    this.player = player;\n\n    this.style    = { font: '20px Arial', fill: '#ffffff', align: 'left' }\n    this.redStyle = { font: '30px Arial', fill: '#ff0044', align: 'center' };\n\n    let bootsIcon  = new Phaser.Image(this.game, 10, 10, 'speed');\n    this.speedText = new Phaser.Text(this.game, 37, 3, this.speedLabel(), this.style);\n    bootsIcon.addChild(this.speedText)\n    this.game.add.existing(bootsIcon);\n\n    let powerIcon  = new Phaser.Image(this.game, 110, 10, 'delay');\n    this.powerText = new Phaser.Text(this.game, 37, 3, this.powerLabel(), this.style);\n    powerIcon.addChild(this.powerText)\n    this.game.add.existing(powerIcon);\n\n    let delayIcon  = new Phaser.Image(this.game, 185, 10, 'power');\n    this.delayText = new Phaser.Text(this.game, 37, 3, this.delayLabel(), this.style);\n    delayIcon.addChild(this.delayText)\n    this.game.add.existing(delayIcon);\n\n    this.deadText = this.game.add.text(this.game.world.centerX, this.game.world.height - 30, 'You died :(', this.redStyle);\n    this.deadText.anchor.set(0.5);\n    this.deadText.visible = false\n  }\n\n  refreshStatistic() {\n    this.speedText.text = this.speedLabel();\n    this.powerText.text = this.powerLabel();\n    this.delayText.text = this.delayLabel();\n  }\n\n  showDeadInfo() {\n    this.deadText.visible = true\n  }\n\n  speedLabel() {\n    return `x ${this.player.speed}`\n  }\n\n  powerLabel() {\n    return `x ${this.player.power}`\n  }\n\n  delayLabel() {\n    return `x ${this.player.delay / 1000} sec.`\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/entities/info.js","const PING = 100\n\nexport default class EnemyPlayer extends Phaser.Sprite {\n\n  constructor({ game, id, spawn, color }) {\n    super(game, spawn.x, spawn.y, 'bomberman_' + color);\n\n    this.game = game\n    this.id = id;\n\n    this.currentPosition = spawn;\n\n    this.lastMoveAt = 0;\n\n    this.game.physics.arcade.enable(this);\n    this.body.setSize(20, 20, 0, 0);\n    this.body.immovable = true;\n\n    this.animations.add('up', [0, 1, 2, 3, 4, 5, 6, 7], 15, true);\n    this.animations.add('down', [8, 9, 10, 11, 12, 13, 14, 15], 15, true);\n    this.animations.add('right', [16, 17, 18, 19, 20, 21, 22, 23], 15, true);\n    this.animations.add('left', [24, 25, 26, 27, 28, 29, 30, 31], 15, true);\n  }\n\n  update () {\n    this.game.debug.body(this);\n  }\n\n  goTo(newPosition) {\n    this.lastMoveAt = this.game.time.now;\n\n    this.animateFace(newPosition);\n\n    this.game.add.tween(this).to(newPosition, PING, Phaser.Easing.Linear.None, true);\n  }\n\n  animateFace(newPosition) {\n    let face = 'down';\n    let diffX = newPosition.x - this.currentPosition.x;\n    let diffY = newPosition.y - this.currentPosition.y;\n\n    if (diffX < 0) {\n      face = 'left'\n    } else if (diffX > 0) {\n      face = 'right'\n    } else if (diffY < 0) {\n      face = 'up'\n    } else if (diffY > 0) {\n      face = 'down'\n    }\n\n    this.animations.play(face)\n    this.currentPosition = newPosition;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/entities/enemy_player.js","const TILE_SIZE = 35\nconst explosion_time = 2000;\n\nexport default class Bomb extends Phaser.Sprite {\n\n  constructor(game, id, col, row) {\n    let centerCol = (col * TILE_SIZE) + TILE_SIZE / 2\n    let centerRow = (row * TILE_SIZE) + TILE_SIZE / 2\n\n    super(game, centerCol, centerRow, 'bomb');\n    this.scale.setTo(0.7);\n    this.anchor.setTo(0.5);\n\n    this.game = game\n    this.id = id;\n\n    this.game.physics.arcade.enable(this);\n\n    this.game.add.tween(this.scale).to({x: 1.2, y: 1.2}, explosion_time, Phaser.Easing.Linear.None, true);\n\n    this.body.immovable = true;\n    this.animations.add('bomb', [0, 1, 2], 3, true);\n    this.animations.play('bomb');\n  }\n\n  update() {\n    this.game.debug.body(this);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/entities/bomb.js","const SPEED = 0\nconst POWER = 1\nconst DELAY = 2\nconst TILE_SIZE = 35\n\nexport default class Spoil extends Phaser.Sprite {\n\n  constructor(game, spoil) {\n\n    let spoil_type;\n    if (spoil.spoil_type === SPEED) {\n      spoil_type = 0\n    }\n    if (spoil.spoil_type === POWER) {\n      spoil_type =  1\n    }\n    if (spoil.spoil_type === DELAY) {\n      spoil_type = 2\n    }\n\n    super(game, (spoil.col * TILE_SIZE), (spoil.row * TILE_SIZE), 'spoil_tiles', spoil_type);\n\n    this.id = spoil.id\n\n    this.game.physics.arcade.enable(this);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/entities/spoil.js","const TILE_SIZE = 35\n\nexport default class FireBlast extends Phaser.Sprite {\n\n  constructor(game, cell) {\n    super(game, (cell.col * TILE_SIZE), (cell.row * TILE_SIZE), cell.type, 0);\n\n    this.game = game\n\n    this.animations.add('blast', [0, 1, 2, 3, 4]);\n\n    // 15 - framerate, loop, kill_on_complete\n    this.play('blast', 1, false, true);\n\n    this.game.physics.arcade.enable(this);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/entities/fire_blast.js","const TILE_SIZE = 35\n\nexport default class Bone extends Phaser.Sprite {\n\n  constructor(game, col, row) {\n    super(game, (col * TILE_SIZE), (row * TILE_SIZE), 'bone', 0);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/entities/bone.js","import { Text } from '../helpers/elements';\n\nclass Win extends Phaser.State {\n\n  init(winner_color) {\n    this.color = winner_color\n  }\n\n  create() {\n    new Text({\n      game: this.game,\n      x: this.game.world.centerX,\n      y: this.game.world.centerY,\n      text: this.winnerText(),\n      style: {\n        font: '30px Areal',\n        fill: '#FFFFFF'\n      }\n    })\n  }\n\n  update() {\n    if( this.game.input.keyboard.isDown(Phaser.Keyboard.ENTER) ) {\n      this.returnToMenu();\n    }\n  }\n\n  returnToMenu() {\n    this.state.start('Menu');\n  }\n\n  winnerText() {\n    if (this.color) {\n      return `Player with color: \"${this.color}\" won! Press Enter to return to main menu.`\n    }\n\n    return 'Opponent left! Press Enter to return to main menu.'\n  }\n}\n\nexport default Win;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/states/win.js"],"sourceRoot":""}